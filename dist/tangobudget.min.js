/*! tangobudget 2019-01-09 */

function addMarkersAndAll(e,a){path=poly.getPath(),path.push(e);var n=new google.maps.Marker({position:e,label:labels[labelIndex++%labels.length],map:a,draggable:!0,animation:google.maps.Animation.DROP,title:"#"+path.getLength()});markers.push(n),poly.setMap(a),latitud.push(n.getPosition().lat()),longitud.push(n.getPosition().lng()),showCoordenadas(latitud,longitud),google.maps.event.addListener(n,"drag",function(e){if("B"==n.getLabel())path.pop(),path.push(e.latLng),path=poly.getPath(),latitud[1]=n.getPosition().lat(),longitud[1]=n.getPosition().lng();else{var a=path.removeAt(1);path.removeAt(0);path.setAt(1,a),path.setAt(0,e.latLng),path=poly.getPath(),latitud[0]=n.getPosition().lat(),longitud[0]=n.getPosition().lng()}if(flag=2,showCoordenadas(latitud,longitud),2==markers.length){var t=new google.maps.ElevationService;camino[0]=path.getAt(0),camino[1]=path.getAt(1),dist=haversine(radius,latitud,longitud),displayPathElevation(camino,t,dist)}}),n.addListener("click",toggleBounce),2==markers.length&&(elevator||(elevator=new google.maps.ElevationService),camino[0]=path.getAt(0),camino[1]=path.getAt(1),dist=haversine(radius,latitud,longitud),displayPathElevation(camino,elevator,dist))}function Fresnel(e,a,t,n,o){var l;l=22/e;var r=haversine(radius,latitud,longitud);tan_alpha=(a-t)/r,alpha=Math.atan(tan_alpha);var d=r/2,i=altura[cant_redondeo/2];console.log("altura_puntomedio: "+i);var u=d/Math.cos(alpha),s=d/Math.cos(alpha);R1=Math.sqrt(l*u*s/(u+s));var c,g,m=.6*R1,h=.4*R1;return 0==n?(c=100*n-d^2/(a-i+(m^2+s^2)^2/(2^m)),g=100*n-d^2/(a-i+(h^2+s^2)^2/(2^h))):n==r?(c=100*n-d^2/(t-i+(m^2+s^2)^2/(2^m)),g=100*n-d^2/(t-i+(h^2+s^2)^2/(2^h))):(c=100*n-d^2/(o-i+(m^2+s^2)^2/(2^m)),g=100*n-d^2/(o-i+(h^2+s^2)^2/(2^h))),1<c?0:1<g&&c<1?1:2}function FSL(e,a,t,n){var o;o=22/n;var l=4*Math.PI*e/o;return 20*Math.log10(l)}function InputUser(){var e,a,t=parseNumber(document.getElementById("gananciatx").value),n=parseNumber(document.getElementById("gananciarx").value),o=parseNumber(document.getElementById("potenciatx").value),l=parseNumber(document.getElementById("frecuencia").value),r=parseNumber(document.getElementById("disponibilidad").value)/100,d=100*dist,u=Math.floor(d),s=parseNumber(document.getElementById("alturaantenatx").value),c=parseNumber(document.getElementById("alturaantenarx").value),g=parseFloat(s)+parseFloat(altura[0]),m=parseFloat(c)+parseFloat(altura[u-1]),h=haversine(radius,latitud,longitud),v=parseNumber(document.getElementById("perdidasconectores").value),p=parseNumber(document.getElementById("otrasperdidas").value),f=document.getElementById("FactorRugosidad").value,b=FSL(h,g,m,l),y=MF(h,f,.25,l,r),x=t+n+o-v-b-p,F=Tilt(h,g,m);if(console.log("La frecuencia ingresada es: "+l),console.log("perdidasFSL: "+b),console.log("Prx es: "+x),console.log("El margen de fading es: "+y),console.log("La disponibildad del canal es: "+r),console.log("El valor de A es: "+f),console.log("El angulo del tilt es: "+F),1==hayLOS)document.getElementById("Ldevista").innerHTML="¡Hay línea de vista!",hayLOS=!0;else{if(0!=hayLOS)return;hayLOS=!1,document.getElementById("Ldevista").innerHTML="¡Cuidado! No hay línea de vista. Se sugiere aumentar las alturas de las antenas."}var E=0;for(i=0;i<altura.length;i++)hayDespejeCamino[i]=Fresnel(l,g,m,i,altura[i]),1==hayDespejeCamino[i]&&(distanciaFresnel[E]=i,alturaFresnel[E]=altura[i],E++);var B=hayDespejeCamino.filter(function(e){return 0}),I=B.filter(function(e){return 1});0==B.length?(console.log("Existe un despeje mayor al 60%"),a=e=!0):0==I.length?(console.log("Existe el despeje entre el 40% y 60%"),a=!(e=!1)):(console.log("No hay despeje de Fresnel"),a=e=!1),Resultados(hayLOS,b,y,F,e,a)}var LOS=function(){var m=0;return function(e,a){var t=new google.visualization.DataTable;t.addColumn("string","Muestras"),t.addColumn("number","Elevacion"),t.addRow(["TX",altura[0]]);for(var n=1;n<e.length-1;n++)t.addRow(["",altura[n]]),"undefined"==t.getValue(n,1)&&(a[n]=0,altura[n]=0);t.addRow(["RX",altura[e.length-1]]);var o,l;if(0===m){var r=new google.visualization.ColumnChart(document.getElementById("elevation_chart2")),d=new google.visualization.DataView(t);d.setColumns([0,1,{calc:"stringify",sourceColumn:1,type:"string",role:"annotation"}]),r.draw(d,{height:200,legend:{position:"none"},titleY:"Perfil de elevacion (m)",titleX:"Muestras (m)",color:"yellow"}),m++}var i=altura.indexOf(data.getDistinctValues(1).filter(function(e){return!isNaN(e)})[e.length-1]);if(0!=i&&i!=e.length-1){console.log("Prueba: "+data.getDistinctValues(1)[e.length-1]);var u=data.getDistinctValues(1)[e.length-1].toFixed(3);return u>altura[e.length-1].toFixed(3)&&u>altura[0].toFixed(3)?0:altura[0].toFixed(3)<u<altura[e.length-1].toFixed(3)?(o=(altura[e.length-1].toFixed(3)-altura[0].toFixed(3))/(e.length-1-0),(u-altura[0].toFixed(3))/(i-0)<=o?(console.log("testA2"),1):0):altura[e.length-1].toFixed(3)<u<altura[0].toFixed(3)?(o=(altura[e.length-1].toFixed(3)-altura[0].toFixed(3))/(e.length-1-0),(u-altura[0].toFixed(3))/(i-0)<o?(console.log("testA3"),1):0):(console.log("testA4"),1)}if(0==i||i==e.length-1){if(0==(l=altura.indexOf(data.getDistinctValues(1)[e.length-2]))||l==e.length-1){var s=data.getDistinctValues(1)[e.length-3].toFixed(1),c=altura.indexOf(data.getDistinctValues(1)[e.length-3]);return s>altura[e.length-1].toFixed(3)&&s>altura[0].toFixed(3)?0:altura[0].toFixed(3)<s<altura[e.length-1].toFixed(3)?(o=(altura[e.length-2].toFixed(3)-altura[0].toFixed(3))/(e.length-1-0),(s-altura[0].toFixed(3))/(c-0)<=o?(console.log("testB2"),1):0):altura[e.length-1].toFixed(3)<s<altura[0].toFixed(3)?(o=(altura[e.length-1].toFixed(3)-altura[0].toFixed(3))/(e.length-1-0),(s-altura[0].toFixed(3))/(c-0)<o?(console.log("testB3"),1):0):(console.log("testB4"),1)}var g=data.getDistinctValues(1)[e.length-2].toFixed(1);return g>altura[e.length-1].toFixed(3)&&g>altura[0].toFixed(3)?0:altura[0].toFixed(3)<g<altura[e.length-1].toFixed(3)?(o=(altura[e.length-1].toFixed(3)-altura[0].toFixed(3))/(e.length-1-0),(g-altura[0].toFixed(3))/(l-0)<=o?(console.log("testB22"),1):0):altura[e.length-1].toFixed(1)<g<altura[0].toFixed(1)?(o=(altura[e.length-1].toFixed(1)-altura[0].toFixed(1))/(e.length-1-0),(g-altura[0].toFixed(1))/(l-0)<o?(console.log("testB23"),1):0):(console.log("testB24"),1)}}}();function MF(e,a,t,n,o){var l;return l="1"==a?4:"2"==a?1:.25,30*Math.log10(e)+10*Math.log10(6*l*t*n)-10*Math.log10(1-o)-70}function ModifyHeight(){distanciaobject=parseNumber(document.getElementById("distanciaobjeto").value),distanciatotal=1e3*haversine(radius,latitud,longitud);var e=100*dist,a=Math.floor(e);0==Math.floor(distanciaobject)||Math.floor(distanciaobject)==a-1?alert("No se pueden colocar objetos interferentes en las antenas"):0<distanciaobject&&distanciaobject<distanciatotal&&null!=parseInt(document.getElementById("objetointerferente").value)?(flag=1,muestra_mod[++contador]=Math.floor(distanciaobject/10),displayPathElevation(camino,elevator,dist)):alert("distancia excede el largo del camino")}function ModifyRxTx(){var e=parseNumber(document.getElementById("alturaantenatx").value),a=parseNumber(document.getElementById("alturaantenarx").value);e<=0||a<=0?alert("Altura incorrecta, intente de nuevo"):(flag=4,displayPathElevation(camino,elevator,dist),document.getElementById("alturaantenarx").disabled=!0,document.getElementById("alturaantenatx").disabled=!0)}function AtenuacionLluvia(){var e,a=parseNumber(document.getElementById("frecuencia").value),t=document.getElementById("polarizacion").value,n=haversine(radius,latitud,longitud),o=[1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,e=42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,120,150,200,300,400,500,600,700,800,900,1e3],l=o.indexOf(a);if(-1==l){for(var r=0;a<=o[r];)r++;alert("Se aproximó dicho valor a"+r+"GHz para calcular la atenuación por lluvia"),l=r}var d,i,u=[[1,259e-7,.9691,308e-7,.8592],[1.5,443e-7,1.0185,574e-7,.8957],[2,847e-7,1.0664,998e-7,.949],[2.5,1321e-7,1.1209,1464e-7,1.0085],[3,139e-6,1.2322,1942e-7,1.0688],[3.5,1155e-7,1.4189,2346e-7,1.1387],[4,1071e-7,1.6009,2461e-7,1.2476],[4.5,134e-6,1.6948,2347e-7,1.3987],[5,2162e-7,1.6969,2428e-7,1.5317],[5.5,3909e-7,1.6499,3115e-7,1.5882],[6,7056e-7,1.59,4878e-7,1.5728],[7,.001915,1.481,.001425,1.4745],[8,.004115,1.3905,.00345,1.3797],[9,.007535,1.3155,.006691,1.2895],[10,.01217,1.2571,.01129,1.2156],[11,.01772,1.214,.01731,1.1617],[12,.02386,1.1825,.02455,1.1216],[13,.03041,1.1586,.03266,1.0901],[14,.03738,1.1396,.04126,1.0646],[15,.04481,1.1233,.05008,1.044],[16,.05282,1.1086,.05899,1.0273],[17,.06146,1.0949,.06797,1.0137],[18,.07078,1.0818,.07708,1.0025],[19,.08084,1.0691,.08642,.993],[20,.09164,1.0568,.09611,.9847],[21,.1032,1.0447,.1063,.9771],[22,.1155,1.0329,.117,.97],[23,.1286,1.0214,.1284,.963],[24,.1425,1.0101,.1404,.9561],[25,.1571,.9991,.1533,.9491],[26,.1724,.9884,.1669,.9421],[27,.1884,.978,.1813,.9349],[28,.2051,.9679,.1964,.9277],[29,.2224,.958,.2124,.9203],[30,.2403,.9485,.2291,.9129],[31,.2588,.9392,.2465,.9055],[32,.2778,.9302,.2646,.8981],[33,.2972,.9214,.2833,.8907],[34,.3171,.9129,.3026,.8834],[35,.3374,.9047,.3224,.8761],[36,.358,.8967,.3427,.869],[37,.3789,.889,.3633,.8621],[38,.4001,.8816,.3844,.8552],[39,.4215,.8743,.4058,.8486],[40,.4431,.8673,.4274,.8421],[41,.4647,.8605,.4492,.8357],[42,.4865,.8539,.4712,.8296],[43,.5084,.8476,.4932,.8236],[44,.5302,.8414,.5153,.8179],[45,.5521,.8355,.5375,.8123],[46,.5738,.8297,.5596,.8069],[47,.5956,.8241,.5817,.8017],[48,.6172,.8187,.6037,.7967],[49,.6386,.8134,.6255,.7918],[50,.66,.8084,.6472,.7871],[51,.6811,.8034,.6687,.7826],[52,.702,.7987,.6901,.7783],[53,.7228,.7941,.7112,.7741],[54,.7433,.7896,.7321,.77],[55,.7635,.7853,.7527,.7661],[56,.7835,.7811,.773,.7623],[57,.8032,.7771,.7931,.7587],[58,.8226,.7731,.8129,.7552],[59,.8418,.7693,.8324,.7518],[60,.8606,.7656,.8515,.7486],[61,.8791,.7621,.8704,.7454],[62,.8974,.7586,.8889,.7424],[63,.9153,.7552,.9071,.7395],[64,.9328,.752,.925,.7366],[65,.9501,.7488,.9425,.7339],[66,.967,.7458,.9598,.7313],[67,.9836,.7428,.9767,.7287],[68,.9999,.74,.9932,.7262],[69,1.0159,.7372,1.0094,.7238],[70,1.0315,.7345,1.0253,.7215],[71,1.0468,.7318,1.0409,.7193],[72,1.0618,.7293,1.0561,.7171],[73,1.0764,.7268,1.0711,.715],[74,1.0908,.7244,1.0857,.713],[75,1.1048,.7221,1.1,.711],[76,1.1185,.7199,1.1139,.7091],[77,1.132,.7177,1.1276,.7073],[78,1.1451,.7156,1.141,.7055],[79,1.1579,.7135,1.1541,.7038],[80,1.1704,.7115,1.1668,.7021],[81,1.1827,.7096,1.1793,.7004],[82,1.1946,.7077,1.1915,.6988],[83,1.2063,.7058,1.2034,.6973],[84,1.2177,.704,1.2151,.6958],[85,1.2289,.7023,1.2265,.6943],[86,1.2398,.7006,1.2376,.6929],[87,1.2504,.699,1.2484,.6915],[88,1.2607,.6974,1.259,.6902],[89,1.2708,.6959,1.2694,.6889],[90,1.2807,.6944,1.2795,.6876],[91,1.2903,.6929,1.2893,.6864],[92,1.2997,.6915,1.2989,.6852],[93,1.3089,.6901,1.3083,.684],[94,1.3179,.6888,1.3175,.6828],[95,1.3266,.6875,1.3265,.6817],[96,1.3351,.6862,1.3352,.6806],[97,1.3434,.685,1.3437,.6796],[98,1.3515,.6838,1.352,.6785],[99,1.3594,.6826,1.3601,.6775],[100,1.3671,.6815,1.368,.6765],[120,1.4866,.664,1.4911,.6609],[150,1.5823,.6494,1.5896,.6466],[200,1.6378,.6382,1.6443,.6343],[300,1.6286,.6296,1.6286,.6262],[400,1.586,.6262,1.582,.6256],[500,1.5418,.6253,1.5366,.6272],[600,1.5013,.6262,1.4967,.6293],[700,1.4654,.6284,1.4622,.6315],[800,1.4335,.6315,1.4321,.6334],[900,1.405,.6353,1.4056,.6351],[1e3,1.3795,.6396,1.3822,.6365]];return"vertical"==t&&(d=u(l,3),i=u(l,4)),"horizontal"==t&&(d=u(l,1),i=u(l,2)),console.log("k:"+d),console.log("alfa:"+i),d*Math.pow(e,i)*(n*(1/(1+n/(35*Math.exp(-.015*e)))))}function Resultados(e,a,t,n,o,l){google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(function(){data_resultados||((data_resultados=new google.visualization.DataTable).addColumn("boolean","Hay linea de vista?"),data_resultados.addColumn("number","Perdidas de espacio libre (dB)"),data_resultados.addColumn("number","Margen de Fading (dB)"),data_resultados.addColumn("number","Angulo de Tilt"),data_resultados.addColumn("boolean","Despeje 60%?"),data_resultados.addColumn("boolean","Despeje 40%?"),tableRes=new google.visualization.Table(document.getElementById("result_table")));data_resultados.addRow([e,+a,+t,+n,o,l]),tableRes.draw(data_resultados,{showRowNumber:!1,width:"100%",height:"100%"})})}function AgregarTabla(t,n){google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(function(){data_detabla||((data_detabla=new google.visualization.DataTable).addColumn("string","Tipo"),data_detabla.addColumn("number","Distancia desde el Tx (m)"),data_detabla.addColumn("number","Altura (m)"),data_detabla.addColumn("boolean","Despeje 80%?"),data_detabla.addColumn("boolean","Despeje 60%?"),data_detabla.addColumn("number","Muestra Modificada"),table=new google.visualization.Table(document.getElementById("table_div")));var e,a;a=0==n?e=!0:1==n?!(e=!1):e=!1;data_detabla.addRow([t,+parseFloat(document.getElementById("distanciaobjeto").value),+parseFloat(document.getElementById("alturaobjeto").value),e,a,+muestra_mod[contador]]),table.draw(data_detabla,{showRowNumber:!0,width:"100%",height:"100%"}),document.getElementById("alturaobjeto").value="",document.getElementById("distanciaobjeto").value=""})}function BorrarFila(){data_detabla.removeRow(contador-1),table.draw(data_detabla,{showRowNumber:!0,width:"100%",height:"100%"})}function Tilt(e,a,t){return toDegrees(Math.atan((a-t)/e))}function DeshacerAltura(){return 0<=contador?(flag=3,void displayPathElevation(camino,elevator,dist)):void alert("Ya se deshicieron todos los cambios.")}function DistanceToBorders(e,a){lat[0]=e[a].lat(),lng[0]=e[a].lng(),lat[1]=e[255].lat(),lng[1]=e[255].lng();var t=haversine(radius,lat,lng);console.log("Distancia a RX"+t.toFixed(6)+" km"),lat[1]=e[0].lat(),lng[1]=e[0].lng();haversine(radius,lat,lng);console.log("Distancia a TX"+t.toFixed(6)+" km")}function dragElement(a){var t=0,n=0,o=0,l=0;function e(e){(e=e||window.event).preventDefault(),o=e.clientX,l=e.clientY,document.onmouseup=d,document.onmousemove=r}function r(e){(e=e||window.event).preventDefault(),t=o-e.clientX,n=l-e.clientY,o=e.clientX,l=e.clientY,a.style.top=a.offsetTop-n+"px",a.style.left=a.offsetLeft-t+"px"}function d(){document.onmouseup=null,document.onmousemove=null}document.getElementById(a.id+"Header")?document.getElementById(a.id+"Header").onmousedown=e:a.onmousedown=e}function displayPathElevation(e,a,t){var n=100*t;cant_redondeo=Math.floor(n),console.log("Cantidad de muestras por km: "+n),console.log("Redondeo de muestras: "+cant_redondeo),a.getElevationAlongPath({path:e,samples:cant_redondeo},plotElevation)}function plotElevation(e,a){var t=document.getElementById("elevation_chart");if("OK"===a){if(!data||2==flag){data=new google.visualization.DataTable,chart=new google.visualization.ColumnChart(t),data.addColumn("string","Sample"),data.addColumn("number","Elevation");for(var n=0;n<e.length;n++)data.addRow(["",e[n].elevation]),"undefined"==data.getValue(n,1)&&(coordenadas[n]=NaN,altura[n]=NaN),altura[n]=data.getValue(n,1),coordenadas[n]=e[n].location;flag=0}if(0==flag)h_Pmax1=data.getDistinctValues(1)[e.length-1],h_Pmax2=data.getDistinctValues(1)[e.length-2],Pmax1=altura.indexOf(h_Pmax1),Pmax2=altura.indexOf(h_Pmax2);else if(1==flag){var o=parseFloat(altura[muestra_mod[contador]])+parseFloat(document.getElementById("alturaobjeto").value),l=document.getElementById("distanciaobjeto").value;if(muestra_mod[contador]=Math.floor(l/10),0==muestra_mod[contador]||muestra_mod[contador]==cant_redondeo-1)return void alert("No se pueden colocar objetos interferentes en las antenas, corrija las distancias");if(valuetomodify_array[contador]=parseFloat(document.getElementById("alturaobjeto").value),distanciaobject_array[contador]=parseFloat(document.getElementById("distanciaobjeto").value),data.setValue(muestra_mod[contador],1,o),objInterferente=document.getElementById("objetointerferente").value,!objInterferente)return alert("Ingrese un tipo de interferencia"),void(flag=0);"arbol"==objInterferente?objInterferente="Arbol":"edificio"==objInterferente&&(objInterferente="Edificio"),document.getElementById("frecuencia").value,parseFloat(document.getElementById("alturaantenatx").value),altura[0],parseFloat(document.getElementById("alturaantenarx").value),altura[cant_redondeo-1],distanciaobject_array[contador],resFresnel=valuetomodify_array[contador],AgregarTabla(objInterferente,+resFresnel),flag=0}else 3==flag?(data.setValue(muestra_mod[contador],1,altura[muestra_mod[contador]]),BorrarFila(),contador--,flag=0):4==flag&&(data.setValue(0,1,parseFloat(document.getElementById("alturaantenatx").value)+altura[0]),data.setValue(cant_redondeo-1,1,parseFloat(document.getElementById("alturaantenarx").value)+altura[cant_redondeo-1]),altura[0]=altura[0]+parseFloat(document.getElementById("alturaantenatx").value),altura[cant_redondeo-1]=altura[cant_redondeo-1]+parseFloat(document.getElementById("alturaantenarx").value),flag=0);chart.draw(data,{height:200,legend:"none",titleX:"Cantidad de muestras",titleY:"Elevation (m)"}),1==(hayLOS=LOS(e,coordenadas))?document.getElementById("Ldevista").innerHTML="¡Hay línea de vista!":0==hayLOS&&(document.getElementById("Ldevista").innerHTML="¡Cuidado! No hay línea de vista. Se sugiere aumentar las alturas de las antenas.")}else t.innerHTML="Cannot show elevation: request failed because "+a}function showCoordenadas(e,a){for(var t=0;t<markers.length;t++)document.getElementById("transmisor").value=e[0]+", "+a[0],document.getElementById("receptor").value=e[1]+", "+a[1];if(0!==e[0]&&0!==e[1]){var n=haversine(radius,e,a);document.getElementById("result3").innerHTML=n.toFixed(6)+" km"}}function deleteMarkersAndPath(){markers[0].setMap(null),markers[1].setMap(null),markers=[],latitud=[],longitud=[],camino=[],elevator=[],elevations=[],altura=[],contador=data=0,path=poly.setPath([]),document.getElementById("transmisor").value="",document.getElementById("receptor").value="",document.getElementById("result3").innerHTML="",document.getElementById("Ldevista").innerHTML="",document.getElementById("elevation_chart").innerHTML="",document.getElementById("elevation_chart2").innerHTML=""}dragElement(document.getElementById("Boton"));var data,chart,elevator,dist,cant_redondeo,Pmax1,h_Pmax1,elevations,data_detabla,data_resultados,table,tableRes,hayLOS,resFresnel,labels="TR",labelIndex=0,markers=[],latitud=[],longitud=[],radius=6371,camino=[],altura=[],coordenadas=[],posic_puntoMax=0,valor_puntoMax=0,flag=0,muestra_mod=[],distanciaobject_array=[],contador=0,valuetomodify_array=[],distanciaFresnel=[],alturaFresnel=[],hayDespejeCamino=[],APP={};function initMap(){var a=new google.maps.Map(document.getElementById("map"),{zoom:15,center:{lat:-34.916467,lng:-56.154272}});google.maps.event.addListener(a,"click",function(e){markers.length<=1&&addMarkersAndAll(e.latLng,a)}),poly=new google.maps.Polyline({strokeColor:"#000000",strokeOpacity:1,strokeWeight:3})}function haversine(e,a,t){var n=ToRadians(a[0]),o=ToRadians(t[0]),l=ToRadians(a[1]),r=n-l,d=o-ToRadians(t[1]),i=Math.sin(r/2),u=Math.sin(d/2),s=Math.pow(i,2)+Math.cos(n)*Math.cos(l)*Math.pow(u,2);return 2*e*Math.asin(Math.min(1,Math.sqrt(s)))}function toggleBounce(){marker.setAnimation(google.maps.Animation.BOUNCE)}function printPDF(){var e=new jsPDF;e.fromHTML($("#panel-total").get(0),20,20,{width:500}),e.save("Reporte.pdf")}function toDegrees(e){return 180*e/Math.PI}function parseNumber(e){var a=/^[+-]?(\d+)(?:[,.](\d+))?$/.exec(e);return a?a[2]?+(a[1]+"."+a[2]):+a[1]:NaN}function ToRadians(e){return e*(Math.PI/180)}APP.objInterferente=null,APP.prueba=[],google.load("visualization","1",{packages:["columnchart"]});